@if (group) {
  <ng-container [formGroup]="group">
    <div class="mb-4 position-relative">
      <label class="form-label" for="country-{{ id }}">Country</label>
      <input
        type="text"
        id="country-{{ id }}"
        class="form-control"
        formControlName="country"
        appValidationMessage
        [visibleErrors]="isSubmitted()"
        controlName="Country"
        [ngbTypeahead]="countries$" />
    </div>

    <div class="mb-4 position-relative">
      <label class="form-label" for="username-{{ id }}">
        Username
        @if (group.get('username')?.pending) {
          <div
            class="spinner-border"
            style="width: 1rem; height: 1rem"
            role="status">
            <span class="visually-hidden">Loading...</span>
          </div>
        }
      </label>
      <input
        type="text"
        id="username-{{ id }}"
        class="form-control"
        appValidationMessage
        controlName="Username"
        [visibleErrors]="isSubmitted()"
        formControlName="username" />
    </div>

    <div class="position-relative">
      <label class="form-label" for="birthday-{{ id }}">Birthday</label>
      <div class="input-group">
        <input
          class="form-control"
          placeholder="dd-mm-yyyy"
          name="dp"
          id="birthday-{{ id }}"
          formControlName="birthday"
          ngbDatepicker
          appValidationMessage
          autocomplete="off"
          [visibleErrors]="isSubmitted()"
          controlName="Birthday"
          [maxDate]="maxDate"
          #d="ngbDatepicker" />
        <button
          class="btn btn-outline-secondary bi bi-calendar3"
          (click)="d.toggle()"
          aria-label="Toggle Datepicker"
          type="button"></button>
      </div>
    </div>
  </ng-container>
}
